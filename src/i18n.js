// src/i18n.js

const SUPPORTED_LANGS = ["en", "uz", "ru"];
const DEFAULT_LANG = "en";

const messages = {
  en: {
    // shown after language selection or /help
    start: `ðŸ‘‹ Hi! I can turn images into a PDF or merge PDFs.

  Use the menu buttons below to pick what you want.`,
    menuMain: "Choose what you want to do:",
    modeImages: "ðŸ–¼ï¸ Image mode enabled. Send images now.",
    modeMerge: "ðŸ“š Merge mode enabled. Send PDF files now.",
    autoModeImages: "ðŸ–¼ï¸ Switched to Image mode.",
    autoModeMerge: "ðŸ“š Switched to Merge mode.",
    settingsTitle: "âš™ï¸ Settings",
    chooseQuality: "Choose output quality:",
    choosePageSize: "Choose page size:",
    chooseBackground: "Choose background color:",
    askName: "Send the PDF file name (example: MyDocument)",
    doneReady: "âœ… PDF is ready. What next?",
    mergeCleared: "PDF list cleared.",

    cleared: "Session cleared. You can start again.",
    noImages: "You have no images stored.",
    listHeader: "Current image order:",
    listFooter: "Use /swap a b or /move a b to change positions.",
    usageSwap: "Usage: /swap a b",
    invalidPositions: "Invalid positions. You currently have {count} image(s).",
    samePositions: "Positions are the same, nothing to swap.",
    swapSuccess:
      "Swapped positions {a} and {b}. Use /list to check the new order.",
    langUsage: "Usage: /lang en|uz|ru",
    langUsageButtons: "Choose your language:",
    langInvalid: "Unsupported language code. Use: en, uz, ru.",
    langSet: "Language changed.",
    converting: "Converting images to PDF...",
    convertedCaption: "Your PDF with {pages} page(s).",
    convertError: "Error while converting images to PDF. Try again.",
    onlyImages: "Send only image files or PDFs.",
    readError: "Could not read file.",
    receiveError: "Error while receiving the file. Try again.",
    gotImage:
      "Got image #{id} at position {pos}. Send more images or tap the buttons below.",
    gotImagesGroup: "Added {count} images in order. Positions {from}-{to}.",
    fallback: "Send images or PDFs, or choose a mode from the menu.",
    gotPdf:
      "Got PDF #{id}. Use /listpdf to see all PDFs or /mergepdf to merge them.",
    noPdfs: "You have no PDFs stored. Send PDF files as documents.",
    listPdfHeader: "Current PDFs:",
    mergeNoPdfs: "No PDFs to merge. Send PDFs first.",
    mergeError: "Error while merging PDFs. Try again.",
    mergingPdfs: "Merging PDFs, please wait...",
    mergedResultCaption: "Your merged PDF is ready!",
    removeNoImages: "No images to remove.",
    imageNotFound: "Image not found.",
    removeUsage: "Usage: /remove n  (example: /remove 2)",
    removeInvalid: "Invalid index. You have {count} images.",
    removeSuccess: "Removed image #{id} at position {pos}.",
    moveNoImages: "No images to move.",
    moveUsage: "Usage: /move from to  (example: /move 5 1)",
    moveInvalid: "Invalid positions. You have {count} images.",
    moveSame: "Positions are the same, nothing to move.",
    moveSuccess: "Moved image #{id} from {from} to {to}.",
    nameUsage: "Usage: /name My_File_Name",
    nameSet: "OK, I will name your file: {name}",
    qualityUsage: "Usage: /quality high|standard|light",
    qualityInvalid: "Invalid quality. Use: high, standard, or light.",
    qualitySet: "Quality set to: {quality}",
    pageSizeUsage: "Usage: /pagesize auto|a4p|a4l|square",
    pageSizeInvalid: "Invalid page size. Use: auto, a4p, a4l, or square.",
    pageSizeSet: "Page size set to: {pageSize}",
    rotateNoImages: "No images to rotate.",
    rotateUsage: "Usage: /rotate n [deg]. Example: /rotate 2 90",
    rotateInvalidIndex: "Invalid index. You have {count} images.",
    rotateInvalidDeg: "Invalid degrees. Use an integer like 90, 180, 270.",
    rotateSuccess:
      "Rotated image #{id} at position {pos}. Now rotation = {deg}Â°",
    bgUsage: "Usage: /bg white|black|transparent",
    bgInvalid: "Invalid background. Use: white, black, or transparent.",
    bgSet: "Background set to: {background}",
    rateLimit: "Too many requests. Please wait a bit.",
    fileTooLarge: "File is too large ({size} MB). Max size: {max} MB.",
    status:
      "Images: {images}\nPDFs: {pdfs}\nName: {name}\nQuality: {quality}\nPage size: {pageSize}\nBackground: {background}",
    btnRotate90: "ðŸ”„ 90Â°",
    btnRotate180: "ðŸ”„ 180Â°",
    btnRotate270: "ðŸ”„ 270Â°",
    btnRotateImage: "ðŸ”„ Rotate image",
    btnDeleteImage: "ðŸ—‘ï¸ Delete image",
    btnRemove: "ðŸ—‘ï¸ Remove",
    chooseImageRotate: "Select image to rotate:",
    chooseImageDelete: "Select image to delete:",
    chooseRotateDegree: "Choose rotation angle:",
    btnList: "ðŸ“‹ List",
    btnDone: "âœ… Done",
    menuImages: "ðŸ–¼ï¸ Images â†’ PDF",
    menuMerge: "ðŸ“š Merge PDFs",
    menuSettings: "âš™ï¸ Settings",
    menuLang: "ðŸŒ Language",
    menuHelp: "â“ Help",
    menuStatus: "ðŸ“Š Status",
    menuBack: "â¬…ï¸ Back",
    mergeNow: "ðŸ§© Merge now",
    mergeList: "ðŸ“„ List PDFs",
    mergeClear: "ðŸ§¹ Clear PDFs",
    settingsQuality: "âœ¨ Quality",
    settingsPageSize: "ðŸ“„ Page size",
    settingsBackground: "ðŸŽ¨ Background",
    settingsName: "ðŸ“ File name",
    qualityHigh: "âœ¨ High",
    qualityStandard: "âš–ï¸ Standard",
    qualityLight: "ðŸª¶ Light",
    pageAuto: "ðŸ“„ Auto",
    pageA4P: "ðŸ“„ A4 Portrait",
    pageA4L: "ðŸ“„ A4 Landscape",
    pageSquare: "â¬œ Square",
    bgWhite: "â¬œ White",
    bgBlack: "â¬› Black",
    bgTransparent: "ðŸ«¥ Transparent",
  },

  uz: {
    start: `ðŸ‘‹ Salom! Men rasmlardan PDF yasayman yoki PDFlarni birlashtiraman.

  Pastdagi menyudan kerakli rejimni tanlang.`,
    menuMain: "Nimani qilishni xohlaysiz?",
    modeImages: "ðŸ–¼ï¸ Rasm rejimi yoqildi. Endi rasmlar yuboring.",
    modeMerge: "ðŸ“š Birlashtirish rejimi yoqildi. Endi PDF yuboring.",
    autoModeImages: "ðŸ–¼ï¸ Rasm rejimiga oâ€˜tdim.",
    autoModeMerge: "ðŸ“š Birlashtirish rejimiga oâ€˜tdim.",
    settingsTitle: "âš™ï¸ Sozlamalar",
    chooseQuality: "Sifatni tanlang:",
    choosePageSize: "Sahifa oâ€˜lchamini tanlang:",
    chooseBackground: "Fon rangini tanlang:",
    askName: "PDF fayl nomini yuboring (masalan: MyDocument)",
    doneReady: "âœ… PDF tayyor. Keyin nima?",
    mergeCleared: "PDF roâ€˜yxati tozalandi.",
    noImages: "Sizda saqlangan rasm yoâ€˜q.",
    listHeader: "Hozirgi rasm tartibi:",
    listFooter:
      "Tartibni oâ€˜zgartirish uchun /swap a b yoki /move a b dan foydalaning.",
    usageSwap: "Foydalanish: /swap a b",
    invalidPositions: "Notoâ€˜gâ€˜ri pozitsiya. Hozir {count} ta rasm bor.",
    samePositions: "Pozitsiyalar bir xil, almashtirishga hojat yoâ€˜q.",
    swapSuccess:
      "{a} va {b}-pozitsiyalar almashtirildi. Yangi tartibni /list orqali koâ€˜ring.",
    langUsage: "Foydalanish: /lang en|uz|ru",
    langUsageButtons: "Tilni tanlang:",
    langInvalid:
      "Bunday til kodi qoâ€˜llab-quvvatlanmaydi. en, uz yoki ru dan foydalaning.",
    langSet: "Til muvaffaqiyatli oâ€˜zgartirildi.",
    converting: "Rasmlar PDF ga aylantirilmoqda...",
    convertedCaption: "{pages} ta sahifali PDF tayyor.",
    convertError:
      "Rasmlarni PDF ga aylantirishda xatolik yuz berdi. Qayta urinib koâ€˜ring.",
    onlyImages: "Faqat rasm fayllari yoki PDF yuboring.",
    readError: "Faylni oâ€˜qib boâ€˜lmadi.",
    receiveError: "Faylni qabul qilishda xatolik. Qayta urinib koâ€˜ring.",
    gotImage:
      "Rasm #{id} qabul qilindi. Pozitsiya: {pos}. Yana rasm yuboring yoki pastdagi tugmalarni bosing.",
    gotImagesGroup:
      "{count} ta rasm tartib bilan qoâ€˜shildi. Pozitsiyalar: {from}-{to}.",
    fallback: "Rasm yoki PDF yuboring yoki menyudan rejim tanlang.",
    gotPdf:
      "PDF #{id} qabul qilindi. Barcha PDF larni /listpdf bilan koâ€˜ring yoki /mergepdf bilan birlashtiring.",
    noPdfs: "Saqlangan PDF fayl yoâ€˜q. Avval PDF yuboring (document sifatida).",
    listPdfHeader: "Hozirgi PDF lar:",
    mergeNoPdfs: "Birlashtirish uchun PDF yoâ€˜q. Avval PDF yuboring.",
    mergeError: "PDF fayllarni birlashtirishda xatolik. Qayta urinib koâ€˜ring.",
    mergingPdfs: "PDF fayllar birlashtirilmoqda, biroz kuting...",
    mergedResultCaption: "Birlashtirilgan PDF tayyor!",
    removeNoImages: "Oâ€˜chirish uchun rasm yoâ€˜q.",
    imageNotFound: "Rasm topilmadi.",
    removeUsage: "Foydalanish: /remove n  (misol: /remove 2)",
    removeInvalid: "Notoâ€˜gâ€˜ri indeks. Sizda {count} ta rasm bor.",
    removeSuccess: "Rasm #{id} {pos}-pozitsiyadan oâ€˜chirildi.",
    moveNoImages: "Koâ€˜chirish uchun rasm yoâ€˜q.",
    moveUsage: "Foydalanish: /move from to  (misol: /move 5 1)",
    moveInvalid: "Notoâ€˜gâ€˜ri pozitsiya. Sizda {count} ta rasm bor.",
    moveSame: "Pozitsiyalar bir xil, koâ€˜chirishga hojat yoâ€˜q.",
    moveSuccess: "Rasm #{id} {from}-pozitsiyadan {to}-pozitsiyaga koâ€˜chirildi.",
    nameUsage: "Foydalanish: /name MeningFaylim",
    nameSet: "Fayl nomi: {name}",
    qualityUsage: "Foydalanish: /quality high|standard|light",
    qualityInvalid: "Sifat notoâ€˜gâ€˜ri. high, standard yoki light.",
    qualitySet: "Sifat: {quality}",
    pageSizeUsage: "Foydalanish: /pagesize auto|a4p|a4l|square",
    pageSizeInvalid: "Sahifa oâ€˜lchami notoâ€˜gâ€˜ri. auto, a4p, a4l, yoki square.",
    pageSizeSet: "Sahifa oâ€˜lchami: {pageSize}",
    rotateNoImages: "Aylantirish uchun rasm yoâ€˜q.",
    rotateUsage: "Foydalanish: /rotate n [gradus]. Misol: /rotate 2 90",
    rotateInvalidIndex: "Notoâ€˜gâ€˜ri indeks. Sizda {count} ta rasm bor.",
    rotateInvalidDeg: "Notoâ€˜gâ€˜ri gradus. 90, 180, 270 kabi butun son kiriting.",
    rotateSuccess:
      "Rasm #{id} {pos}-pozitsiyada aylantirildi. Hozirgi aylanish: {deg}Â°",
    bgUsage: "Foydalanish: /bg white|black|transparent",
    bgInvalid: "Fon notoâ€˜gâ€˜ri. white, black yoki transparent.",
    bgSet: "Fon: {background}",
    rateLimit: "Soâ€˜rovlar juda koâ€˜p. Biroz kuting.",
    fileTooLarge: "Fayl juda katta ({size} MB). Maksimal: {max} MB.",
    status:
      "Rasmlar: {images}\nPDFlar: {pdfs}\nNomi: {name}\nSifat: {quality}\nSahifa oâ€˜lchami: {pageSize}\nFon: {background}",
    btnRotate90: "ðŸ”„ 90Â°",
    btnRotate180: "ðŸ”„ 180Â°",
    btnRotate270: "ðŸ”„ 270Â°",
    btnRotateImage: "ðŸ”„ Rasmni aylantirish",
    btnDeleteImage: "ðŸ—‘ï¸ Rasmni oâ€˜chirish",
    btnRemove: "ðŸ—‘ï¸ Oâ€˜chirish",
    chooseImageRotate: "Qaysi rasmni aylantirish?",
    chooseImageDelete: "Qaysi rasmni oâ€˜chirish?",
    chooseRotateDegree: "Aylantirish burchagini tanlang:",
    btnList: "ðŸ“‹ Roâ€˜yxat",
    btnDone: "âœ… Done",
    menuImages: "ðŸ–¼ï¸ Rasmlar â†’ PDF",
    menuMerge: "ðŸ“š PDF birlashtirish",
    menuSettings: "âš™ï¸ Sozlamalar",
    menuLang: "ðŸŒ Til",
    menuHelp: "â“ Yordam",
    menuStatus: "ðŸ“Š Holat",
    menuBack: "â¬…ï¸ Ortga",
    mergeNow: "ðŸ§© Birlashtirish",
    mergeList: "ðŸ“„ PDF roâ€˜yxati",
    mergeClear: "ðŸ§¹ PDF tozalash",
    settingsQuality: "âœ¨ Sifat",
    settingsPageSize: "ðŸ“„ Sahifa oâ€˜lchami",
    settingsBackground: "ðŸŽ¨ Fon",
    settingsName: "ðŸ“ Fayl nomi",
    qualityHigh: "âœ¨ High",
    qualityStandard: "âš–ï¸ Standard",
    qualityLight: "ðŸª¶ Light",
    pageAuto: "ðŸ“„ Auto",
    pageA4P: "ðŸ“„ A4 Portret",
    pageA4L: "ðŸ“„ A4 Landscape",
    pageSquare: "â¬œ Square",
    bgWhite: "â¬œ White",
    bgBlack: "â¬› Black",
    bgTransparent: "ðŸ«¥ Transparent",
  },

  ru: {
    start: `ðŸ‘‹ ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð¯ Ð´ÐµÐ»Ð°ÑŽ PDF Ð¸Ð· ÐºÐ°Ñ€Ñ‚Ð¸Ð½Ð¾Ðº Ð¸Ð»Ð¸ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÑŽ PDF.

  Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ€ÐµÐ¶Ð¸Ð¼ Ð² Ð¼ÐµÐ½ÑŽ Ð½Ð¸Ð¶Ðµ.`,
    menuMain: "Ð§Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ?",
    modeImages: "ðŸ–¼ï¸ Ð ÐµÐ¶Ð¸Ð¼ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½. ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐ¹Ñ‚Ðµ ÐºÐ°Ñ€Ñ‚Ð¸Ð½ÐºÐ¸.",
    modeMerge: "ðŸ“š Ð ÐµÐ¶Ð¸Ð¼ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½. ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐ¹Ñ‚Ðµ PDF.",
    autoModeImages: "ðŸ–¼ï¸ ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ð»ÑÑ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹.",
    autoModeMerge: "ðŸ“š ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ð»ÑÑ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ.",
    settingsTitle: "âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",
    chooseQuality: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾:",
    choosePageSize: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ€Ð°Ð·Ð¼ÐµÑ€ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹:",
    chooseBackground: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ„Ð¾Ð½:",
    askName: "ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ð¸Ð¼Ñ Ñ„Ð°Ð¹Ð»Ð° PDF (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: MyDocument)",
    doneReady: "âœ… PDF Ð³Ð¾Ñ‚Ð¾Ð². Ð§Ñ‚Ð¾ Ð´Ð°Ð»ÑŒÑˆÐµ?",
    mergeCleared: "Ð¡Ð¿Ð¸ÑÐ¾Ðº PDF Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½.",

    cleared: "Ð¡ÐµÑÑÐ¸Ñ Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½Ð°. ÐœÐ¾Ð¶Ð½Ð¾ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð·Ð°Ð½Ð¾Ð²Ð¾.",
    noImages: "Ð£ Ñ‚ÐµÐ±Ñ Ð½ÐµÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½Ñ‘Ð½Ð½Ñ‹Ñ… Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹.",
    listHeader: "Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹:",
    listFooter: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ /swap a b Ð¸Ð»Ð¸ /move a b, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº.",
    usageSwap: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: /swap a b",
    invalidPositions: "ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸. Ð¡ÐµÐ¹Ñ‡Ð°Ñ Ñƒ Ñ‚ÐµÐ±Ñ {count} Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹.",
    samePositions: "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¸ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚, Ð½ÐµÑ‡ÐµÐ³Ð¾ Ð¼ÐµÐ½ÑÑ‚ÑŒ.",
    swapSuccess:
      "ÐŸÐ¾Ð¼ÐµÐ½ÑÐ» Ð¼ÐµÑÑ‚Ð°Ð¼Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ {a} Ð¸ {b}. ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº Ñ‡ÐµÑ€ÐµÐ· /list.",
    langUsage: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: /lang en|uz|ru",
    langUsageButtons: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐ·Ñ‹Ðº:",
    langInvalid: "Ð¢Ð°ÐºÐ¾Ð¹ ÑÐ·Ñ‹Ðº Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹: en, uz Ð¸Ð»Ð¸ ru.",
    langSet: "Ð¯Ð·Ñ‹Ðº ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ñ‘Ð½.",
    converting: "ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð·ÑƒÑŽ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð² PDF...",
    convertedCaption: "Ð¢Ð²Ð¾Ð¹ PDF Ð¸Ð· {pages} ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹(ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†).",
    convertError: "ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð°Ñ†Ð¸Ð¸ Ð² PDF. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ ÐµÑ‰Ñ‘ Ñ€Ð°Ð·.",
    onlyImages: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐ¹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¸Ð»Ð¸ PDF.",
    readError: "ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð».",
    receiveError: "ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ð¸ Ñ„Ð°Ð¹Ð»Ð°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ ÐµÑ‰Ñ‘ Ñ€Ð°Ð·.",
    gotImage:
      "Ð˜Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ #{id} Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾. ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ: {pos}. ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐ¹ ÐµÑ‰Ñ‘ Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð½Ð¸Ð¶Ðµ.",
    gotImagesGroup:
      "Ð”Ð¾Ð±Ð°Ð²Ð¸Ð» {count} Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹ Ð¿Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÑƒ. ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¸: {from}-{to}.",
    fallback: "ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¸Ð»Ð¸ PDF, Ð»Ð¸Ð±Ð¾ Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ€ÐµÐ¶Ð¸Ð¼ Ð² Ð¼ÐµÐ½ÑŽ.",
    gotPdf:
      "PDF #{id} Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½. ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸ Ð²ÑÐµ Ñ‡ÐµÑ€ÐµÐ· /listpdf Ð¸Ð»Ð¸ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½Ð¸ Ñ‡ÐµÑ€ÐµÐ· /mergepdf.",
    noPdfs: "Ð£ Ñ‚ÐµÐ±Ñ Ð½ÐµÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½Ñ‘Ð½Ð½Ñ‹Ñ… PDF. Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒ PDF ÐºÐ°Ðº Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚.",
    listPdfHeader: "Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº PDF:",
    mergeNoPdfs: "ÐÐµÑ‚ PDF Ð´Ð»Ñ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ. Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒ PDF.",
    mergeError: "ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¸ PDF. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ ÐµÑ‰Ñ‘ Ñ€Ð°Ð·.",
    mergingPdfs: "Ð˜Ð´Ñ‘Ñ‚ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ PDF Ñ„Ð°Ð¹Ð»Ð¾Ð², Ð¿Ð¾Ð´Ð¾Ð¶Ð´Ð¸Ñ‚Ðµ...",
    mergedResultCaption: "ÐžÐ±ÑŠÐµÐ´Ð¸Ð½Ñ‘Ð½Ð½Ñ‹Ð¹ PDF Ð³Ð¾Ñ‚Ð¾Ð²!",
    removeNoImages: "ÐÐµÑ‚ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹ Ð´Ð»Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ.",
    imageNotFound: "Ð˜Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾.",
    removeUsage: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: /remove n  (Ð¿Ñ€Ð¸Ð¼ÐµÑ€: /remove 2)",
    removeInvalid: "ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð¸Ð½Ð´ÐµÐºÑ. Ð£ Ñ‚ÐµÐ±Ñ {count} Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹.",
    removeSuccess: "Ð£Ð´Ð°Ð»Ð¸Ð» Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ #{id} Ð½Ð° Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ {pos}.",
    moveNoImages: "ÐÐµÑ‚ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸Ñ.",
    moveUsage: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: /move from to  (Ð¿Ñ€Ð¸Ð¼ÐµÑ€: /move 5 1)",
    moveInvalid: "ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸. Ð£ Ñ‚ÐµÐ±Ñ {count} Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹.",
    moveSame: "ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ð¸ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚, Ð½ÐµÑ‡ÐµÐ³Ð¾ Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰Ð°Ñ‚ÑŒ.",
    moveSuccess: "ÐŸÐµÑ€ÐµÐ¼ÐµÑÑ‚Ð¸Ð» Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ #{id} Ñ {from} Ð½Ð° {to}.",
    nameUsage: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: /name MyFile",
    nameSet: "Ð˜Ð¼Ñ Ñ„Ð°Ð¹Ð»Ð°: {name}",
    qualityUsage: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: /quality high|standard|light",
    qualityInvalid: "ÐÐµÐ²ÐµÑ€Ð½Ð¾Ðµ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹: high, standard Ð¸Ð»Ð¸ light.",
    qualitySet: "ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾: {quality}",
    pageSizeUsage: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: /pagesize auto|a4p|a4l|square",
    pageSizeInvalid:
      "ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹: auto, a4p, a4l Ð¸Ð»Ð¸ square.",
    pageSizeSet: "Ð Ð°Ð·Ð¼ÐµÑ€ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹: {pageSize}",
    rotateNoImages: "ÐÐµÑ‚ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹ Ð´Ð»Ñ Ð¿Ð¾Ð²Ð¾Ñ€Ð¾Ñ‚Ð°.",
    rotateUsage: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: /rotate n [Ð³Ñ€Ð°Ð´ÑƒÑÑ‹]. ÐŸÑ€Ð¸Ð¼ÐµÑ€: /rotate 2 90",
    rotateInvalidIndex: "ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð¸Ð½Ð´ÐµÐºÑ. Ð£ Ñ‚ÐµÐ±Ñ {count} Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹.",
    rotateInvalidDeg: "ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð³Ñ€Ð°Ð´ÑƒÑÑ‹. Ð’Ð²ÐµÐ´Ð¸ Ñ†ÐµÐ»Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾: 90, 180, 270.",
    rotateSuccess:
      "ÐŸÐ¾Ð²ÐµÑ€Ð½ÑƒÐ» Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ #{id} Ð½Ð° Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ {pos}. Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð¾Ð²Ð¾Ñ€Ð¾Ñ‚: {deg}Â°",
    bgUsage: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: /bg white|black|transparent",
    bgInvalid: "ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ„Ð¾Ð½. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹: white, black Ð¸Ð»Ð¸ transparent.",
    bgSet: "Ð¤Ð¾Ð½: {background}",
    rateLimit: "Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð². ÐŸÐ¾Ð´Ð¾Ð¶Ð´Ð¸ Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾.",
    fileTooLarge: "Ð¤Ð°Ð¹Ð» ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹ ({size} ÐœÐ‘). ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼: {max} ÐœÐ‘.",
    status:
      "Ð˜Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ: {images}\nPDF: {pdfs}\nÐ˜Ð¼Ñ: {name}\nÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾: {quality}\nÐ Ð°Ð·Ð¼ÐµÑ€ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹: {pageSize}\nÐ¤Ð¾Ð½: {background}",
    btnRotate90: "ðŸ”„ 90Â°",
    btnRotate180: "ðŸ”„ 180Â°",
    btnRotate270: "ðŸ”„ 270Â°",
    btnRotateImage: "ðŸ”„ ÐŸÐ¾Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ",
    btnDeleteImage: "ðŸ—‘ï¸ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ",
    btnRemove: "ðŸ—‘ï¸ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ",
    chooseImageRotate: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð²Ð¾Ñ€Ð¾Ñ‚Ð°:",
    chooseImageDelete: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ:",
    chooseRotateDegree: "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑƒÐ³Ð¾Ð» Ð¿Ð¾Ð²Ð¾Ñ€Ð¾Ñ‚Ð°:",
    btnList: "ðŸ“‹ Ð¡Ð¿Ð¸ÑÐ¾Ðº",
    btnDone: "âœ… Done",
    menuImages: "ðŸ–¼ï¸ ÐšÐ°Ñ€Ñ‚Ð¸Ð½ÐºÐ¸ â†’ PDF",
    menuMerge: "ðŸ“š ÐžÐ±ÑŠÐµÐ´Ð¸Ð½Ð¸Ñ‚ÑŒ PDF",
    menuSettings: "âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",
    menuLang: "ðŸŒ Ð¯Ð·Ñ‹Ðº",
    menuHelp: "â“ ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ",
    menuStatus: "ðŸ“Š Ð¡Ñ‚Ð°Ñ‚ÑƒÑ",
    menuBack: "â¬…ï¸ ÐÐ°Ð·Ð°Ð´",
    mergeNow: "ðŸ§© ÐžÐ±ÑŠÐµÐ´Ð¸Ð½Ð¸Ñ‚ÑŒ",
    mergeList: "ðŸ“„ Ð¡Ð¿Ð¸ÑÐ¾Ðº PDF",
    mergeClear: "ðŸ§¹ ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ PDF",
    settingsQuality: "âœ¨ ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾",
    settingsPageSize: "ðŸ“„ Ð Ð°Ð·Ð¼ÐµÑ€ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹",
    settingsBackground: "ðŸŽ¨ Ð¤Ð¾Ð½",
    settingsName: "ðŸ“ Ð˜Ð¼Ñ Ñ„Ð°Ð¹Ð»Ð°",
    qualityHigh: "âœ¨ High",
    qualityStandard: "âš–ï¸ Standard",
    qualityLight: "ðŸª¶ Light",
    pageAuto: "ðŸ“„ Auto",
    pageA4P: "ðŸ“„ A4 Portrait",
    pageA4L: "ðŸ“„ A4 Landscape",
    pageSquare: "â¬œ Square",
    bgWhite: "â¬œ White",
    bgBlack: "â¬› Black",
    bgTransparent: "ðŸ«¥ Transparent",
  },
};

/**
 * Resolve raw Telegram language_code to one of SUPPORTED_LANGS
 */
function resolveLang(rawCode) {
  if (!rawCode) return DEFAULT_LANG;
  const code = rawCode.toLowerCase();
  if (SUPPORTED_LANGS.includes(code)) return code;
  const short = code.slice(0, 2);
  if (SUPPORTED_LANGS.includes(short)) return short;
  return DEFAULT_LANG;
}

/**
 * Get localized text
 */
function getText(lang, key) {
  const l = SUPPORTED_LANGS.includes(lang) ? lang : DEFAULT_LANG;
  const pack = messages[l] || messages[DEFAULT_LANG];
  return pack[key] || messages[DEFAULT_LANG][key] || "";
}

/**
 * Very simple {var} string formatter
 */
function format(str, vars = {}) {
  if (!str || typeof str !== "string") return str;
  return str.replace(/\{(\w+)\}/g, (_, k) =>
    Object.prototype.hasOwnProperty.call(vars, k) ? String(vars[k]) : `{${k}}`,
  );
}

module.exports = {
  SUPPORTED_LANGS,
  DEFAULT_LANG,
  messages,
  resolveLang,
  getText,
  format,
};
